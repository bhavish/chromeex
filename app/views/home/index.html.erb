<div id="doc" class="intl-us">
    <div id="deckwrap" class="wrapper narrow" style="
    margin: 45px;">
      <div id="card-cont">
        <div class="card-content">
          <ul id="mm-card" style="left: 0px; -webkit-transition: all 0.2s linear;">
            <li class="card plr" id="yui_3_4_1_2_1351541583312_86">
              <div class="ccont" style="
    width: 95%;
">
                <div class="card-m" id="yui_3_4_1_2_1351541583312_89" style="height:80%;width:90%">
                  <!--<a href="http://screen.yahoo.com/news-9s-jamie-staton-stuck-014606273.html" target="_blank" title="Play" style="opacity: 1;"><img src="http://i1.cdnds.net/12/26/618x338/maroon-5-bts-video.jpg" alt="" width="80%" height="100%"></a>-->
                  <div class = "container">
                <object type="application/x-shockwave-flash" data="http://www.youtube.com/apiplayer?enablejsapi=1&amp;version=3&amp;playerapiid=ythandle" width="80%" height="100%" id="player-container" style="visibility: visible; "><param name="allowScriptAccess" value="always"></object>-->
                <div id="console">
                  <button id="play">Play</button>
                  <button id="pause">pause</button>
                  <button id="stop">Stop</button>
                </div>
            </div>  
                </div>

                <div class="card-d" id="yui_3_4_1_2_1351541583312_99" style="
    width: 83%;
">
                  <div class="cdd" style="margin-right: 330px;">
                    <h3>Maroon 5 - One More Night</h3><span class="desc">A music video directed by Peter Berg was released on June 25, 2012. In the video, Levine becomes a boxer working to support his girlfriend and baby. As the singer spends time training for a big fight, he struggles to stay close to his girlfriend while raising their child together.</span> <span class="attr" id="yui_3_4_1_2_1351541583312_104">|
                    00:30 | 17 hours ago | <a target="_blank" href="http://screen.yahoo.com/news-9s-jamie-staton-stuck-014606273.html">screen.yahoo.com</a></span>
                  </div>

                  <div class="upn" id="yui_3_4_1_2_1351541583312_119">
                    <strong>Up Next</strong>

                    <ol>
                      <li class="vr">
                        <a class="res" href="#"><img src="http://d1.yimg.com/sr/video/thm-300x300/f0510f6e-472d-3854-9c3b-ee3c900b7c8f" alt="News 9's Kevin Skarupa spoke to a class in Farmington via Skype on Wednesday." style="margin-top:-33.6px"></a>

                        <h3 class="shadow"><a class="res" href="#"><span class="stack grad desc">News 9's Kevin Skarupa visits Farmington school
                        via Skype</span></a></h3><a class="res" href="#"><span class="stack"><span class="note dur">00:39</span></span></a>
                      </li>
                    </ol>
                  </div>
                </div>
              </div>
            </li>

          </ul>

          <div class="card-btns">
            <a class="cd-close btn" href="#" title="Close"></a>
            <button class="fscr btn" id="on-fscr" title="View Fullscreen"></button>
            <button class="fscr btn" id="off-fscr" title="Exit Fullscreen"></button>
          </div>

          <div id="yui_3_4_1_2_1351541583312_58">
            <div id="yui_3_4_1_2_1351541583312_58_prev">
              <a class="def_nav_prev idle btn" id="yui_3_4_1_2_1351541583312_58_prev_a" href="#" title="Previous" style="display: none; width: 0px; -webkit-transition: width 0.15000000596046448s cubic-bezier(0.25, 0.1, 0.25, 1) 0s, width 0.75s ease 0s;">
              </a>
            </div>

            <div id="yui_3_4_1_2_1351541583312_58_next">
              <a class="def_nav_next idle btn" id="yui_3_4_1_2_1351541583312_58_next_a" href="#" title="Next" style="width: 0px;"></a>
            </div>
          </div>
        </div>
      </div>

      <div id="qs" class="card-r" style="right: 0px;">
        <div class="hdr">
          <a href="/;_ylt=A0S00MpN445Qe0UAUEX8w8QF;_ylu=X3oDMTBxc21nbXRsBHNlYwNjZC1ob21lBHNsawNsb2dvBHZ0aWQD">
          </a>

          <h1 class="heading"><a href="/;_ylt=A0S00MpN445Qe0UAUEX8w8QF;_ylu=X3oDMTBxc21nbXRsBHNlYwNjZC1ob21lBHNsawNsb2dvBHZ0aWQD">
          Video Search</a></h1>

          <div class="card-btns">
            <a class="cd-home btn" href="/;_ylt=A0S00MpN445Qe0UAUUX8w8QF;_ylu=X3oDMTBxYXFoZHVxBHNlYwNjZC1ob21lBHNsawNpY29uBHZ0aWQD" title="Search Home"></a> <a class="cd-close btn" href="/r/_ylt=A0S00MpN445Qe0UAPUX8w8QF;_ylu=X3oDMTBjamV2djlsBHNlYwNjZC1jbG9zZQ--/SIG=11ip5aor8/EXP=1351570381/**http%3a//video.search.yahoo.com/" title="Close"></a>
          </div>
        </div>

        <div id="sbx" class="sb-uber">
          <form id="qsform" name="qsform" action="/search/video;_ylt=A0S00MpN445Qe0UAP0X8w8QF;_ylu=X3oDMTB1a3ZwNWRpBHNlYwNjZC1zcgRzbGsDdmlkLXNlYXJjaAR2dGlkAw--">
          <input type="text" id="yschsp" name="p" class="qstext" autocomplete="off" value="news" title="Use the up and down arrow keys to select suggestions"><input type="submit" value="" id="sbx_x" class="qsb"><input type="hidden" name="ei" value="UTF-8"><input type="hidden" name="type" value="ono" id="qstype"><input type="hidden" name="norw" value="" id="qsnorw"><input type="hidden" name="fr" value="sfp-vid" id="qsfr"><input type="hidden" name="fr2" value="" id="qsfr2"><input type="hidden" name="tmpl" value="" id="qstmpl">
          </form>

          
        </div>

        <div id="qsloading" class="qsl visually-hidden"></div>

        <h3 class="upnext"><a href="/search/video;_ylt=A0S00MpN445Qe0UAP0X8w8QF;_ylu=X3oDMTB1a3ZwNWRpBHNlYwNjZC1zcgRzbGsDdmlkLXNlYXJjaAR2dGlkAw--?p=news&amp;fr=sfp-vid&amp;fr2=&amp;tmpl=&amp;type=ono&amp;norw=">
        Search results for <strong>news</strong></a></h3>

        <div id="upnext" class="">
          <ol id="yui_3_4_1_2_1351541583312_1769">


            <li class="vr view"><a class="res shine ygbt" target="_top" href="/search/video;_ylt=A0S00MpN445Qe0UAP0X8w8QF;_ylu=X3oDMTB1a3ZwNWRpBHNlYwNjZC1zcgRzbGsDdmlkLXNlYXJjaAR2dGlkAw--?p=news&amp;fr=sfp-vid&amp;fr2=&amp;tmpl=&amp;type=ono&amp;norw=" title="View All Results">View All Results</a></li>
          </ol>
        </div>

        <div id="qsr"></div>
      </div>
    </div>
  </div>
<script type="text/javascript">
$(function(){
  // this will take care of all the pusher and other activities that take place on the screen.
  
  console.log(ythandle);
  pusher.connection.bind('connected', function(){
      var date = new Date;
      console.log (" Connected at " + date);
      var channel = pusher.subscribe('photo-call'); 
      
      channel.bind("play-video",function(data){
        console.log ("Play Video called");
        // play the video here .. in fullscreen mode.
        // youtubeapi.play
        console.log(data);
        if(data.video_id == null){
          ythandle.playVideo();
        }else {
          ythandle.loadVideoById(data.video_id);
        }
      });

      channel.bind("next-video", function(data){
        // now  add the video to the queue
        console.log("nextvideo")
        ythandle.nextVideo();
      });

      channel.bind("pause-video", function(){
        // pause the current video that is being played
        console.log("Pause video called");
        ythandle.pauseVideo();
      });

      channel.bind("previous-video", function(data){
        console.log("previous video");
        ythandle.previousVideo();
      });

      channel.bind("queue-video", function(data){
        console.log("Add video to the queue");
        console.log(data);
        ythandle.cueVideoById(data.video_id);
        ythandle.playVideo();
      });

  // Functions to pause the video, add a video to the url should be done from here.       
  });


  pusher.connection.bind('disconnected' , function(){
    var date = new Date;
    console.log ("Disconnected at : " + date);
  });
  
});
  var params={allowScriptAccess:'always'};
    var atts={};
    swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&version=3&playerapiid=ythandle", "player-container", "970", "800", "8", null, null, params, atts);
    /**
    *@param: playerId - handle to the video player eg. ythandle
    *@description: executed when the youtube player is ready.
    */
    var ythandle = null;

    function onYouTubePlayerReady(){
      console.log('initiated!');
      common.init();
    /* You can perform a lot of functions here*/
    ythandle=document.getElementById('player-container');
    ythandle.loadVideoById("fwK7ggA3-bU");
    //ythandle.loadPlaylist('DCAE41611AFA0993',1);
    }
    /**
    *
    */
    var common=function(){
    var i=0;
    return{
      init:function(){
        document.getElementById('play').addEventListener('click',common.play,false);
        document.getElementById('pause').addEventListener('click',common.pause,false);
        document.getElementById('stop').addEventListener('click',common.stop,false);
      },
      /* Functions that are bound to the button clicks....you should hook your backend here*/
      play:function(){
        console.log('play pressed');
        if(ythandle)
          ythandle.playVideo();
      },
      pause:function(){
        if(ythandle)
          ythandle.pauseVideo();
      },
      stop:function(){
        if(ythandle)
          ythandle.stopVideo();     }
      
    }//return 
    }();//common
    
 </script>